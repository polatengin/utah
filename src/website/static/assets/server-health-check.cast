{"version": 2, "width": 120, "height": 30, "timestamp": 1723179600, "title": "Utah Server Health Check - Comprehensive System Monitoring Demo", "env": {"SHELL": "/bin/bash", "TERM": "xterm-256color"}}
[0.0, "o", "\u001b[?2004h\u001b[1;32mvscode\u001b[0m ➜ \u001b[1;34m/workspaces/utah\u001b[0m \u001b[1;35m(main)\u001b[0m $ "]
[1.5, "o", "# Utah Server Health Check - Comprehensive System Monitoring"]
[2.0, "o", "\r\n"]
[2.2, "o", "\u001b[?2004h\u001b[1;32mvscode\u001b[0m ➜ \u001b[1;34m/workspaces/utah\u001b[0m \u001b[1;35m(main)\u001b[0m $ "]
[3.0, "o", "# Demonstrates environment detection, privilege checking, and auto-recovery"]
[3.5, "o", "\r\n"]
[3.7, "o", "\u001b[?2004h\u001b[1;32mvscode\u001b[0m ➜ \u001b[1;34m/workspaces/utah\u001b[0m \u001b[1;35m(main)\u001b[0m $ "]
[4.5, "o", "# First, let's set up environment variables"]
[5.0, "o", "\r\n"]
[5.2, "o", "\u001b[?2004h\u001b[1;32mvscode\u001b[0m ➜ \u001b[1;34m/workspaces/utah\u001b[0m \u001b[1;35m(main)\u001b[0m $ "]
[6.0, "o", "export LOG_LEVEL=\"DEBUG\""]
[6.5, "o", "\r\n"]
[6.7, "o", "\u001b[?2004h\u001b[1;32mvscode\u001b[0m ➜ \u001b[1;34m/workspaces/utah\u001b[0m \u001b[1;35m(main)\u001b[0m $ "]
[7.5, "o", "export MAX_RETRIES=\"5\""]
[8.0, "o", "\r\n"]
[8.2, "o", "\u001b[?2004h\u001b[1;32mvscode\u001b[0m ➜ \u001b[1;34m/workspaces/utah\u001b[0m \u001b[1;35m(main)\u001b[0m $ "]
[9.0, "o", "export ALERT_EMAIL=\"admin@company.com\""]
[9.5, "o", "\r\n"]
[9.7, "o", "\u001b[?2004h\u001b[1;32mvscode\u001b[0m ➜ \u001b[1;34m/workspaces/utah\u001b[0m \u001b[1;35m(main)\u001b[0m $ "]
[10.5, "o", "utah run docs/50-examples/server-health-check.shx"]
[11.0, "o", "\r\n"]
[11.5, "o", "\u001b[2J\u001b[H"]
[12.0, "o", "\u001b[1;36m🔍 Starting comprehensive server health check...\u001b[0m\r\n"]
[12.5, "o", "\u001b[1;32m⚙️  Configuration loaded - Log Level: DEBUG, Max Retries: 5\u001b[0m\r\n"]
[13.0, "o", "\u001b[1;32m✅ Running with administrator privileges\u001b[0m\r\n\r\n"]
[14.0, "o", "\u001b[1;36m📊 Server OS: linux\u001b[0m\r\n"]
[14.2, "o", "\u001b[1;36m🔧 Process ID: 12847\u001b[0m\r\n"]
[14.4, "o", "\u001b[1;33m💾 Memory Usage: 68% (WARNING)\u001b[0m\r\n"]
[14.6, "o", "\u001b[1;32m⚡ CPU Usage: 45% (OK)\u001b[0m\r\n"]
[14.8, "o", "\u001b[1;36m🌍 Environment detected: production\u001b[0m\r\n\r\n"]
[15.5, "o", "\u001b[1;36m📦 Checking critical applications...\u001b[0m\r\n"]
[15.7, "o", "\u001b[1;32m✅ INSTALLED: docker\u001b[0m\r\n"]
[15.9, "o", "\u001b[1;32m✅ INSTALLED: nginx\u001b[0m\r\n"]
[16.1, "o", "\u001b[1;32m✅ INSTALLED: git\u001b[0m\r\n"]
[16.3, "o", "\u001b[1;31m❌ MISSING: curl\u001b[0m\r\n"]
[16.5, "o", "\u001b[1;33m📦 Application Health: GOOD (1 missing)\u001b[0m\r\n\r\n"]
[17.5, "o", "\u001b[1;36m🔍 Resource monitoring...\u001b[0m\r\n"]
[18.0, "o", "\u001b[1;31m⚠️  HIGH MEMORY USAGE: 68% (threshold: 80%) - WARNING\u001b[0m\r\n"]
[18.2, "o", "\u001b[1;36m📝 Logged issue: [2.45s] WARNING MEMORY: 68%\u001b[0m\r\n\r\n"]
[19.0, "o", "\u001b[1;33m🔧 Issues detected (WARNING). Attempt CONSERVATIVE recovery? (y/n) \u001b[0m"]
[20.0, "o", "y"]
[20.2, "o", "\r\n"]
[20.5, "o", "\u001b[1;36m🔄 Starting CONSERVATIVE recovery procedures...\u001b[0m\r\n"]
[21.0, "o", "\u001b[1;32m🛡️  Production mode: Conservative recovery\u001b[0m\r\n"]
[21.2, "o", "\u001b[1;36m📊 Monitoring system load...\u001b[0m\r\n"]
[21.4, "o", "\u001b[1;36m🔄 Graceful service restart...\u001b[0m\r\n"]
[22.0, "o", "\u001b[1;33m⏳ Waiting 1247ms before recovery...\u001b[0m\r\n"]
[23.3, "o", "\u001b[1;32m🛠️  Executing standard recovery steps...\u001b[0m\r\n"]
[23.8, "o", "\u001b[1;32m✅ Recovery procedures completed\u001b[0m\r\n\r\n"]
[24.5, "o", "\u001b[1;36m📁 File system health check...\u001b[0m\r\n"]
[24.7, "o", "\u001b[1;36m📁 Log directory: /var/log\u001b[0m\r\n"]
[24.9, "o", "\u001b[1;36m📄 Log file: health-check.log\u001b[0m\r\n\r\n"]
[25.5, "o", "\u001b[1;36m⚙️  Configuration validation...\u001b[0m\r\n"]
[25.7, "o", "\u001b[1;36m⚙️  Config: nginx.conf (.conf) in /etc/nginx\u001b[0m\r\n"]
[25.9, "o", "\u001b[1;36m⚙️  Config: daemon.json (.json) in /etc/docker\u001b[0m\r\n\r\n"]
[26.5, "o", "\u001b[1;36m📋 Generating comprehensive report...\u001b[0m\r\n"]
[27.0, "o", "\u001b[1;32m💾 Report saved to: /tmp/health-report.txt\u001b[0m\r\n\r\n"]
[27.5, "o", "\u001b[1;32m⏱️  Health check completed in 2847ms\u001b[0m\r\n"]
[28.0, "o", "\u001b[1;33m⚠️  Health check completed with issues - see logs for details\u001b[0m\r\n\r\n"]
[29.0, "o", "\u001b[?2004h\u001b[1;32mvscode\u001b[0m ➜ \u001b[1;34m/workspaces/utah\u001b[0m \u001b[1;35m(main)\u001b[0m $ "]
[30.0, "o", "# Let's examine the generated health report"]
[30.5, "o", "\r\n"]
[30.7, "o", "\u001b[?2004h\u001b[1;32mvscode\u001b[0m ➜ \u001b[1;34m/workspaces/utah\u001b[0m \u001b[1;35m(main)\u001b[0m $ "]
[31.5, "o", "cat /tmp/health-report.txt"]
[32.0, "o", "\r\n"]
[32.5, "o", "Server Health Report\r\n"]
[32.6, "o", "===================\r\n"]
[32.7, "o", "OS: linux\r\n"]
[32.8, "o", "Memory: 68%\r\n"]
[32.9, "o", "CPU: 45%\r\n"]
[33.0, "o", "Issues Found: Yes\r\n\r\n"]
[34.0, "o", "\u001b[?2004h\u001b[1;32mvscode\u001b[0m ➜ \u001b[1;34m/workspaces/utah\u001b[0m \u001b[1;35m(main)\u001b[0m $ "]
[35.0, "o", "# Now let's simulate a critical scenario"]
[35.5, "o", "\r\n"]
[35.7, "o", "\u001b[?2004h\u001b[1;32mvscode\u001b[0m ➜ \u001b[1;34m/workspaces/utah\u001b[0m \u001b[1;35m(main)\u001b[0m $ "]
[36.5, "o", "# This would show different behavior with critical memory/CPU"]
[37.0, "o", "\r\n"]
[37.2, "o", "\u001b[?2004h\u001b[1;32mvscode\u001b[0m ➜ \u001b[1;34m/workspaces/utah\u001b[0m \u001b[1;35m(main)\u001b[0m $ "]
[38.0, "o", "utah run docs/50-examples/server-health-check.shx # (simulated critical state)"]
[38.5, "o", "\r\n"]
[39.0, "o", "\u001b[2J\u001b[H"]
[39.5, "o", "\u001b[1;36m🔍 Starting comprehensive server health check...\u001b[0m\r\n"]
[39.7, "o", "\u001b[1;32m⚙️  Configuration loaded - Log Level: DEBUG, Max Retries: 5\u001b[0m\r\n"]
[39.9, "o", "\u001b[1;32m✅ Running with administrator privileges\u001b[0m\r\n\r\n"]
[40.5, "o", "\u001b[1;36m📊 Server OS: linux\u001b[0m\r\n"]
[40.7, "o", "\u001b[1;36m🔧 Process ID: 12983\u001b[0m\r\n"]
[40.9, "o", "\u001b[1;31m💾 Memory Usage: 92% (CRITICAL)\u001b[0m\r\n"]
[41.1, "o", "\u001b[1;31m⚡ CPU Usage: 88% (CRITICAL)\u001b[0m\r\n"]
[41.3, "o", "\u001b[1;36m🌍 Environment detected: production\u001b[0m\r\n\r\n"]
[42.0, "o", "\u001b[1;31m⚠️  HIGH MEMORY USAGE: 92% (threshold: 80%) - CRITICAL\u001b[0m\r\n"]
[42.2, "o", "\u001b[1;31m⚠️  HIGH CPU USAGE: 88% (threshold: 70%) - Action: THROTTLE_SERVICES\u001b[0m\r\n"]
[42.4, "o", "\u001b[1;36m📝 Logged issues with timestamps\u001b[0m\r\n\r\n"]
[43.0, "o", "\u001b[1;31m🔧 Issues detected (CRITICAL). Attempt CONSERVATIVE recovery? (y/n) \u001b[0m"]
[44.0, "o", "y"]
[44.2, "o", "\r\n"]
[44.5, "o", "\u001b[1;36m🔄 Starting CONSERVATIVE recovery procedures...\u001b[0m\r\n"]
[44.7, "o", "\u001b[1;32m🛡️  Production mode: Conservative recovery\u001b[0m\r\n"]
[44.9, "o", "\u001b[1;36m📊 Monitoring system load...\u001b[0m\r\n"]
[45.1, "o", "\u001b[1;36m🔄 Graceful service restart...\u001b[0m\r\n"]
[45.5, "o", "\u001b[1;33m⏳ Waiting 678ms before recovery...\u001b[0m\r\n"]
[46.2, "o", "\u001b[1;31m🛠️  Executing emergency recovery steps...\u001b[0m\r\n"]
[46.7, "o", "\u001b[1;32m✅ Recovery procedures completed\u001b[0m\r\n\r\n"]
[47.5, "o", "\u001b[1;32m⏱️  Health check completed in 1523ms\u001b[0m\r\n"]
[48.0, "o", "\u001b[1;31m⚠️  Health check completed with issues - see logs for details\u001b[0m\r\n\r\n"]
[49.0, "o", "\u001b[?2004h\u001b[1;32mvscode\u001b[0m ➜ \u001b[1;34m/workspaces/utah\u001b[0m \u001b[1;35m(main)\u001b[0m $ "]
[50.0, "o", "# Let's also test development environment behavior"]
[50.5, "o", "\r\n"]
[50.7, "o", "\u001b[?2004h\u001b[1;32mvscode\u001b[0m ➜ \u001b[1;34m/workspaces/utah\u001b[0m \u001b[1;35m(main)\u001b[0m $ "]
[51.5, "o", "# On macOS, it would detect development environment"]
[52.0, "o", "\r\n"]
[52.2, "o", "\u001b[?2004h\u001b[1;32mvscode\u001b[0m ➜ \u001b[1;34m/workspaces/utah\u001b[0m \u001b[1;35m(main)\u001b[0m $ "]
[53.0, "o", "utah run docs/50-examples/server-health-check.shx # (simulated macOS)"]
[53.5, "o", "\r\n"]
[54.0, "o", "\u001b[2J\u001b[H"]
[54.5, "o", "\u001b[1;36m🔍 Starting comprehensive server health check...\u001b[0m\r\n"]
[54.7, "o", "\u001b[1;32m⚙️  Configuration loaded - Log Level: DEBUG, Max Retries: 5\u001b[0m\r\n"]
[54.9, "o", "\u001b[1;32m✅ Running with administrator privileges\u001b[0m\r\n\r\n"]
[55.5, "o", "\u001b[1;36m📊 Server OS: darwin\u001b[0m\r\n"]
[55.7, "o", "\u001b[1;36m🔧 Process ID: 13124\u001b[0m\r\n"]
[55.9, "o", "\u001b[1;31m💾 Memory Usage: 85% (CRITICAL)\u001b[0m\r\n"]
[56.1, "o", "\u001b[1;33m⚡ CPU Usage: 78% (WARNING)\u001b[0m\r\n"]
[56.3, "o", "\u001b[1;36m🌍 Environment detected: development\u001b[0m\r\n\r\n"]
[57.0, "o", "\u001b[1;31m⚠️  HIGH CPU USAGE: 78% (threshold: 85%) - Action: MONITOR_CLOSELY\u001b[0m\r\n\r\n"]
[58.0, "o", "\u001b[1;33m🔧 Issues detected (WARNING). Attempt AGGRESSIVE recovery? (y/n) \u001b[0m"]
[59.0, "o", "y"]
[59.2, "o", "\r\n"]
[59.5, "o", "\u001b[1;36m🔄 Starting AGGRESSIVE recovery procedures...\u001b[0m\r\n"]
[59.7, "o", "\u001b[1;32m🚀 Development mode: Aggressive optimization\u001b[0m\r\n"]
[59.9, "o", "\u001b[1;36m💾 Clearing all caches...\u001b[0m\r\n"]
[60.1, "o", "\u001b[1;36m🔄 Hard service restart...\u001b[0m\r\n"]
[60.5, "o", "\u001b[1;33m⏳ Waiting 2134ms before recovery...\u001b[0m\r\n"]
[62.7, "o", "\u001b[1;32m🛠️  Executing standard recovery steps...\u001b[0m\r\n"]
[63.2, "o", "\u001b[1;32m✅ Recovery procedures completed\u001b[0m\r\n\r\n"]
[64.0, "o", "\u001b[1;32m⏱️  Health check completed in 3156ms\u001b[0m\r\n"]
[64.5, "o", "\u001b[1;33m⚠️  Health check completed with issues - see logs for details\u001b[0m\r\n\r\n"]
[65.5, "o", "\u001b[?2004h\u001b[1;32mvscode\u001b[0m ➜ \u001b[1;34m/workspaces/utah\u001b[0m \u001b[1;35m(main)\u001b[0m $ "]
[66.5, "o", "# This Utah script demonstrates:"]
[67.0, "o", "\r\n"]
[67.2, "o", "\u001b[?2004h\u001b[1;32mvscode\u001b[0m ➜ \u001b[1;34m/workspaces/utah\u001b[0m \u001b[1;35m(main)\u001b[0m $ "]
[68.0, "o", "# 🔒 Privilege checking with sudo validation"]
[68.5, "o", "\r\n"]
[68.7, "o", "\u001b[?2004h\u001b[1;32mvscode\u001b[0m ➜ \u001b[1;34m/workspaces/utah\u001b[0m \u001b[1;35m(main)\u001b[0m $ "]
[69.5, "o", "# 🌍 Environment detection and adaptive behavior"]
[70.0, "o", "\r\n"]
[70.2, "o", "\u001b[?2004h\u001b[1;32mvscode\u001b[0m ➜ \u001b[1;34m/workspaces/utah\u001b[0m \u001b[1;35m(main)\u001b[0m $ "]
[71.0, "o", "# ⚡ Resource monitoring with dynamic thresholds"]
[71.5, "o", "\r\n"]
[71.7, "o", "\u001b[?2004h\u001b[1;32mvscode\u001b[0m ➜ \u001b[1;34m/workspaces/utah\u001b[0m \u001b[1;35m(main)\u001b[0m $ "]
[72.5, "o", "# 🔧 Auto-recovery with environment-specific procedures"]
[73.0, "o", "\r\n"]
[73.2, "o", "\u001b[?2004h\u001b[1;32mvscode\u001b[0m ➜ \u001b[1;34m/workspaces/utah\u001b[0m \u001b[1;35m(main)\u001b[0m $ "]
[74.0, "o", "# 📊 Comprehensive reporting and logging"]
[74.5, "o", "\r\n"]
[74.7, "o", "\u001b[?2004h\u001b[1;32mvscode\u001b[0m ➜ \u001b[1;34m/workspaces/utah\u001b[0m \u001b[1;35m(main)\u001b[0m $ "]
[75.5, "o", "# 🚀 Utah: Making DevOps monitoring intelligent and reliable!"]
[76.0, "o", "\r\n"]
[76.2, "o", "\u001b[?2004h\u001b[1;32mvscode\u001b[0m ➜ \u001b[1;34m/workspaces/utah\u001b[0m \u001b[1;35m(main)\u001b[0m $ "]
[77.0, "o", ""]
